{% extends 'base.html' %}

{% block title %}
    {{ report.case.organisation_name }}
    | Report versions
{% endblock %}

{% block content %}
<div class="govuk-width-container">
    <div class="govuk-breadcrumbs">
        <ol class="govuk-breadcrumbs__list">
            <li class="govuk-breadcrumbs__list-item">
                <a class="govuk-breadcrumbs__link" href="{% url 'dashboard:home' %}">Home</a>
            </li>
            <li class="govuk-breadcrumbs__list-item">
                <a class="govuk-breadcrumbs__link" href="{% url 'cases:case-detail' report.case.id %}">Case</a>
            </li>
            <li class="govuk-breadcrumbs__list-item">
                <a class="govuk-breadcrumbs__link" href="{% url 'reports:report-detail' report.id %}">Report</a>
            </li>
            <li class="govuk-breadcrumbs__list-item">
                Report versions
            </li>
        </ol>
    </div>
    <main id="main-content" class="govuk-main-wrapper no-padding-top">
        <div class="govuk-grid-row">
            <div class="govuk-grid-column-full">
                <div class="govuk-button-group" style="display: flex;">
                    <h1 class="govuk-heading-xl" style="margin-bottom:15px; padding-right: 20px;">Report versions</h1>
                </div>
            </div>
        </div>
        <div style="position: relative; top: -15px;">
            {% include 'cases/helpers/case_title.html' with case=report.case %}
        </div>
        <div class="govuk-grid-row">
            <div class="govuk-grid-column-full">
                <table class="govuk-table">
                    <thead class="govuk-table__head">
                        <tr class="govuk-table__row">
                            <th scope="col" class="govuk-table__header amp-width-one-half">Report</th>
                            <th scope="col" class="govuk-table__header amp-width-one-half">Report link</th>
                        </tr>
                    </thead>
                    <tbody class="govuk-table__body">
                        {% for s3_report in s3_reports %}
                        <tr class="govuk-table__row">
                            <th class="govuk-table__cell">{{ s3_report }}</th>
                            <td class="govuk-table__cell">
                                <a
                                    href="{{ report_viewer_url_prefix }}{{ s3_report.get_absolute_url }}"
                                    class="govuk-link govuk-link--no-visited-state"
                                    rel="noreferrer noopener"
                                    target="_blank">
                                    View HTML report
                                </a>
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </main>
</div>
{% endblock %}
